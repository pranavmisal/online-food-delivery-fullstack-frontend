{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/notification.service\";\nimport * as i4 from \"../services/cart.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/menu\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/toolbar\";\nimport * as i10 from \"@angular/material/badge\";\nfunction NavbarComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_div_15_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.logout());\n    });\n    i0.ɵɵtext(6, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Username: \", ctx_r1.user.username, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Email: \", ctx_r1.user.email, \"\");\n  }\n}\nfunction NavbarComponent_mat_badge_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-badge\", 13);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matBadge\", ctx_r2.totalItemCount);\n  }\n}\nfunction NavbarComponent_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵtext(1, \"Dashboard\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class NavbarComponent {\n  constructor(authService, router, notificationService, cartService) {\n    this.authService = authService;\n    this.router = router;\n    this.notificationService = notificationService;\n    this.cartService = cartService;\n    this.isAdmin = false;\n    this.totalItemCount = 0;\n  }\n  ngOnInit() {\n    this.authService.currentUser$.subscribe(user => {\n      this.user = user;\n      this.isAdmin = user?.email == 'admin@admin.com';\n    });\n    this.updateCartCount();\n    this.cartService.itemAdded.subscribe(() => {\n      this.updateCartCount();\n    });\n  }\n  updateCartCount() {\n    this.totalItemCount = this.cartService.getTotalItemCount();\n  }\n  logout() {\n    this.authService.logout().subscribe(() => {\n      this.user = null;\n      this.notificationService.showSuccess('Logout Successful');\n      this.isAdmin = false;\n      this.router.navigate(['/home']);\n    });\n  }\n  static #_ = this.ɵfac = function NavbarComponent_Factory(t) {\n    return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.NotificationService), i0.ɵɵdirectiveInject(i4.CartService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavbarComponent,\n    selectors: [[\"app-navbar\"]],\n    decls: 21,\n    vars: 4,\n    consts: [[\"color\", \"primary\"], [\"routerLink\", \"/home\", 2, \"text-decoration\", \"none\", \"color\", \"inherit\"], [1, \"spacer\"], [\"mat-icon-button\", \"\", 3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/login\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/signup\"], [\"class\", \"user-details\", \"style\", \"display: flex; background: #bcbcbc80;\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"routerLink\", \"/cart\"], [\"matBadgeSize\", \"small\", \"matBadgeColor\", \"accent\", 3, \"matBadge\", 4, \"ngIf\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/dashboard\", 4, \"ngIf\"], [1, \"user-details\", 2, \"display\", \"flex\", \"background\", \"#bcbcbc80\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"matBadgeSize\", \"small\", \"matBadgeColor\", \"accent\", 3, \"matBadge\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/dashboard\"]],\n    template: function NavbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-toolbar\", 0)(1, \"mat-toolbar-row\")(2, \"a\", 1)(3, \"span\");\n        i0.ɵɵtext(4, \"My Food Delivery App\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(5, \"span\", 2);\n        i0.ɵɵelementStart(6, \"button\", 3)(7, \"mat-icon\");\n        i0.ɵɵtext(8, \"account_circle\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"mat-menu\", null, 4)(11, \"button\", 5);\n        i0.ɵɵtext(12, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 6);\n        i0.ɵɵtext(14, \"Sign Up\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(15, NavbarComponent_div_15_Template, 7, 2, \"div\", 7);\n        i0.ɵɵelementStart(16, \"button\", 8)(17, \"mat-icon\");\n        i0.ɵɵtext(18, \"shopping_cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, NavbarComponent_mat_badge_19_Template, 1, 1, \"mat-badge\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, NavbarComponent_button_20_Template, 2, 0, \"button\", 10);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(10);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.user);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.totalItemCount > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n      }\n    },\n    dependencies: [i5.NgIf, i2.RouterLink, i6.MatIcon, i7.MatMenu, i7.MatMenuItem, i7.MatMenuTrigger, i8.MatButton, i8.MatIconButton, i9.MatToolbar, i9.MatToolbarRow, i10.MatBadge],\n    styles: [\".user-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  background: rgba(188, 188, 188, 0.5019607843);\\n  padding: 5px;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 12px;\\n  font-family: sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbmF2YmFyL25hdmJhci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSw2Q0FBQTtFQUNBLFlBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLHVCQUFBO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIudXNlci1kZXRhaWxze1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGJhY2tncm91bmQ6ICNiY2JjYmM4MDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","NavbarComponent_div_15_Template_button_click_5_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","logout","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","user","username","email","ɵɵelement","ɵɵproperty","ctx_r2","totalItemCount","NavbarComponent","constructor","authService","router","notificationService","cartService","isAdmin","ngOnInit","currentUser$","subscribe","updateCartCount","itemAdded","getTotalItemCount","showSuccess","navigate","_","ɵɵdirectiveInject","i1","AuthService","i2","Router","i3","NotificationService","i4","CartService","_2","selectors","decls","vars","consts","template","NavbarComponent_Template","rf","ctx","ɵɵtemplate","NavbarComponent_div_15_Template","NavbarComponent_mat_badge_19_Template","NavbarComponent_button_20_Template","_r0"],"sources":["C:\\Users\\VI_Pranav\\Desktop\\food-delivery-app\\src\\app\\navbar\\navbar.component.ts","C:\\Users\\VI_Pranav\\Desktop\\food-delivery-app\\src\\app\\navbar\\navbar.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AuthService } from '../auth/auth.service';\nimport { Router } from '@angular/router';\nimport { NotificationService } from '../services/notification.service';\nimport { CartService } from '../services/cart.service';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss']\n})\nexport class NavbarComponent {\n  public user: any;\n  public isAdmin: boolean = false;\n  public totalItemCount: number = 0;\n\n  constructor(\n    public authService: AuthService, \n    public router: Router,\n    public notificationService: NotificationService,\n    public cartService: CartService\n  ){}\n\n  ngOnInit(){\n    this.authService.currentUser$.subscribe(user => {\n      this.user = user;\n      this.isAdmin = user?.email == 'admin@admin.com';\n    });\n    this.updateCartCount();\n    this.cartService.itemAdded.subscribe(() => {\n      this.updateCartCount();\n    })\n  }\n\n  public updateCartCount(){\n    this.totalItemCount = this.cartService.getTotalItemCount();\n  }\n\n  public logout(){\n    this.authService.logout().subscribe(() => {\n      this.user = null;\n      this.notificationService.showSuccess('Logout Successful');\n      this.isAdmin = false;\n      this.router.navigate(['/home']);\n    });\n  }\n}\n","<mat-toolbar color=\"primary\">\n    <mat-toolbar-row>\n        <a routerLink=\"/home\" style=\"text-decoration: none; color: inherit;\">\n            <span>My Food Delivery App</span>\n        </a>\n        <span class=\"spacer\"></span>\n        <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n            <mat-icon>account_circle</mat-icon>\n        </button>\n        <mat-menu #menu=\"matMenu\">\n            <button mat-menu-item routerLink=\"/login\">Login</button>\n            <button mat-menu-item routerLink=\"/signup\">Sign Up</button>\n        </mat-menu>\n        <div *ngIf=\"user\" class=\"user-details\" style=\"display: flex; background: #bcbcbc80;\">\n            <p>Username: {{user.username}}</p>\n            <p>Email: {{user.email}}</p>\n            <button mat-raised-button color=\"warn\" (click)=\"logout()\">Logout</button>\n        </div>\n        <!-- Cart icon -->\n        <button mat-icon-button routerLink=\"/cart\">\n            <mat-icon>shopping_cart</mat-icon>\n            <mat-badge *ngIf=\"totalItemCount > 0\" [matBadge]=\"totalItemCount\" matBadgeSize=\"small\" matBadgeColor=\"accent\"></mat-badge>\n        </button>\n        <button *ngIf=\"isAdmin\" mat-menu-item routerLink=\"/dashboard\">Dashboard</button>\n    </mat-toolbar-row>\n  </mat-toolbar>\n  \n  \n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}